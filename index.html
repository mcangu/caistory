<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Historia de Cádiz</title>
    <link
      rel="stylesheet"
      href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css"
    />
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <style>
      body {
        text-align: center;
        margin: 20px;
      }

      .quiz-container {
        max-width: 600px;
        margin: auto;
      }

      .mdl-button {
        margin: 5px;
      }

      #quiz-section,
      #result-section {
        display: none;
      }
    </style>
  </head>

  <body>
    <div id="main-section" class="quiz-container mdl-card mdl-shadow--2dp">
      <div class="mdl-card__title">
        <h2 class="mdl-card__title-text">Orgullosos de nuestra Historia</h2>
      </div>
      <div class="mdl-card__supporting-text">
        <p>Selecciona un tema para comenzar:</p>
        <div>
          <button
            class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"
            onclick="iniciarCuestionario('Cádiz Fenicio')"
          >
            Cádiz Fenicio
          </button>
          <button
            class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"
            onclick="iniciarCuestionario('Cádiz Romano')"
          >
            Cádiz Romano
          </button>
          <button
            class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"
            onclick="iniciarCuestionario('Cádiz Emporio del Orbe')"
          >
            Cádiz Emporio del Orbe
          </button>
          <button
            class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"
            onclick="iniciarCuestionario('Constitución de 1812')"
          >
            Constitución de 1812
          </button>
        </div>
      </div>
    </div>

    <div id="quiz-section" class="quiz-container mdl-card mdl-shadow--2dp">
      <div class="mdl-card__title">
        <h2 class="mdl-card__title-text">Cuestionario</h2>
      </div>
      <div class="mdl-card__supporting-text" id="pregunta-container"></div>
      <button
        class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect"
        onclick="siguientePregunta()"
      >
        Siguiente Pregunta
      </button>
    </div>

    <div id="result-section" class="quiz-container mdl-card mdl-shadow--2dp">
      <div class="mdl-card__title">
        <h2 class="mdl-card__title-text">Resultados</h2>
      </div>
      <div class="mdl-card__supporting-text" id="resultados-container"></div>
      <button
        class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"
        onclick="volverAlInicio()"
      >
        Volver a la pantalla principal
      </button>
      <button
        class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"
        onclick="repetirCuestionario()"
      >
        Repetir Cuestionario
      </button>
    </div>

    <script>
      const preguntas = {
        "Cádiz Fenicio": [
          {
            pregunta: "¿Quiénes fundaron Gadir (Cádiz)?",
            opciones: [
              "Los griegos",
              "Los romanos",
              "Los fenicios",
              "Los cartagineses",
            ],
            respuestaCorrecta: "Los fenicios",
          },
          {
            pregunta: "¿En qué siglo fue fundada Gadir?",
            opciones: [
              "Siglo VIII a.C.",
              "Siglo XI a.C.",
              "Siglo VI a.C.",
              "Siglo III a.C.",
            ],
            respuestaCorrecta: "Siglo XI a.C.",
          },
          {
            pregunta:
              "¿Cuál era la principal actividad económica de los fenicios en Gadir?",
            opciones: [
              "La agricultura",
              "La minería",
              "El comercio",
              "La pesca",
            ],
            respuestaCorrecta: "El comercio",
          },
          {
            pregunta: "¿Qué dios fenicio era venerado en Gadir?",
            opciones: ["Melqart", "Baal", "Astarté", "Zeus"],
            respuestaCorrecta: "Melqart",
          },
          {
            pregunta: "¿Qué relación tenían los fenicios con el mar?",
            opciones: [
              "Eran agricultores",
              "Eran comerciantes y navegantes",
              "Eran guerreros",
              "Eran artesanos",
            ],
            respuestaCorrecta: "Eran comerciantes y navegantes",
          },
          {
            pregunta:
              "¿Cuál fue una de las principales razones para la fundación de Gadir?",
            opciones: [
              "La minería",
              "El comercio con Tartessos",
              "La conquista de Hispania",
              "La expansión agrícola",
            ],
            respuestaCorrecta: "El comercio con Tartessos",
          },
          {
            pregunta: "¿Qué tipo de colonia era Gadir para los fenicios?",
            opciones: ["Militar", "Religiosa", "Comercial", "Agrícola"],
            respuestaCorrecta: "Comercial",
          },
          {
            pregunta: "¿Cuál era la importancia estratégica de Gadir?",
            opciones: [
              "Acceso al interior de la península",
              "Control de rutas marítimas",
              "Producción de vino",
              "Minería de plata",
            ],
            respuestaCorrecta: "Control de rutas marítimas",
          },
          {
            pregunta:
              "¿Qué civilización influyó culturalmente en los fenicios de Gadir?",
            opciones: [
              "Los íberos",
              "Los griegos",
              "Los romanos",
              "Los cartagineses",
            ],
            respuestaCorrecta: "Los cartagineses",
          },
        ],
        "Cádiz Romano": [
          {
            pregunta: "¿Cómo se llamaba Cádiz durante la época romana?",
            opciones: ["Gadir", "Gades", "Hispalis", "Tartessos"],
            respuestaCorrecta: "Gades",
          },
          {
            pregunta:
              "¿Qué emperador romano otorgó el estatus de municipio a Gades?",
            opciones: ["Augusto", "Julio César", "Trajano", "Nerón"],
            respuestaCorrecta: "Julio César",
          },
          {
            pregunta:
              "¿Qué producto era muy valorado por los romanos procedente de Gades?",
            opciones: ["Aceite de oliva", "El garum", "El trigo", "El vino"],
            respuestaCorrecta: "El garum",
          },
          {
            pregunta: "¿Qué función tenía el garum en la sociedad romana?",
            opciones: [
              "Medicinal",
              "Condimento",
              "Ceremonial",
              "Bebida alcohólica",
            ],
            respuestaCorrecta: "Condimento",
          },
          {
            pregunta:
              "¿Qué importante vía conectaba Gades con el resto del Imperio Romano?",
            opciones: [
              "Vía Augusta",
              "Vía de la Plata",
              "Vía Apia",
              "Vía Hercúlea",
            ],
            respuestaCorrecta: "Vía de la Plata",
          },
          {
            pregunta: "¿Qué destacada figura romana nació en Gades?",
            opciones: ["Séneca", "Balbo el Menor", "Trajano", "Julio César"],
            respuestaCorrecta: "Balbo el Menor",
          },
          {
            pregunta: "¿Qué infraestructura romana era común en Gades?",
            opciones: ["Acueductos", "Murallas", "Termas", "Coliseo"],
            respuestaCorrecta: "Termas",
          },
          {
            pregunta: "¿Cómo influenció Roma a la economía de Gades?",
            opciones: [
              "Impulsó la minería",
              "Fomentó el comercio marítimo",
              "Prohibió el comercio",
              "Convirtió a Gades en una colonia agrícola",
            ],
            respuestaCorrecta: "Fomentó el comercio marítimo",
          },
          {
            pregunta:
              "¿Qué puerto era rival de Gades durante el Imperio Romano?",
            opciones: ["Cartago", "Tarraco", "Malaca", "Hispalis"],
            respuestaCorrecta: "Hispalis",
          },
        ],
        "Cádiz Emporio del Orbe": [
          {
            pregunta: "¿Por qué Cádiz fue conocida como el Emporio del Orbe?",
            opciones: [
              "Por su importancia comercial durante el siglo XVIII",
              "Por ser una ciudad fortificada",
              "Por su riqueza minera",
              "Por su producción de vinos",
            ],
            respuestaCorrecta:
              "Por su importancia comercial durante el siglo XVIII",
          },
          {
            pregunta:
              "¿Qué tipo de comercio era relevante en Cádiz durante el siglo XVIII?",
            opciones: [
              "Comercio con América",
              "Comercio con Asia",
              "Comercio con África",
              "Comercio con Europa del Este",
            ],
            respuestaCorrecta: "Comercio con América",
          },
          {
            pregunta:
              "¿Cuál era el papel de Cádiz en el comercio español en el siglo XVIII?",
            opciones: [
              "Era un puerto secundario",
              "Era un puerto principal",
              "Era un centro de producción textil",
              "Era una ciudad minera",
            ],
            respuestaCorrecta: "Era un puerto principal",
          },
          {
            pregunta:
              "¿Qué institución se trasladó de Sevilla a Cádiz en 1717?",
            opciones: [
              "La Casa de la Contratación",
              "La Inquisición",
              "El Consulado del Mar",
              "El Tribunal Supremo",
            ],
            respuestaCorrecta: "La Casa de la Contratación",
          },
          {
            pregunta:
              "¿Qué evento afectó gravemente al comercio de Cádiz en el siglo XVIII?",
            opciones: [
              "La Guerra de Sucesión Española",
              "La peste",
              "La Guerra de la Independencia",
              "La Guerra de los Treinta Años",
            ],
            respuestaCorrecta: "La Guerra de Sucesión Española",
          },
          {
            pregunta:
              "¿Cuál era el principal producto exportado desde Cádiz a América?",
            opciones: [
              "Textiles",
              "Aceite de oliva",
              "Vinos",
              "Manufacturas europeas",
            ],
            respuestaCorrecta: "Manufacturas europeas",
          },
          {
            pregunta:
              "¿Qué país se convirtió en el principal rival comercial de Cádiz en el siglo XVIII?",
            opciones: ["Francia", "Portugal", "Inglaterra", "Holanda"],
            respuestaCorrecta: "Inglaterra",
          },
          {
            pregunta: "¿Cómo influyó la Ilustración en la ciudad de Cádiz?",
            opciones: [
              "Promovió reformas sociales",
              "Aumentó la represión religiosa",
              "Se prohibió el comercio",
              "Desapareció la industria",
            ],
            respuestaCorrecta: "Promovió reformas sociales",
          },
          {
            pregunta:
              "¿Qué papel jugó Cádiz durante la Guerra de Independencia Española?",
            opciones: [
              "Fue la capital de resistencia",
              "Fue tomada por Napoleón",
              "Fue destruida",
              "Fue neutral",
            ],
            respuestaCorrecta: "Fue la capital de resistencia",
          },
        ],
        "Constitución de 1812": [
          {
            pregunta: "¿Cómo se conoce popularmente a la Constitución de 1812?",
            opciones: ["La Pepa", "La Gades", "La Libertadora", "La Primera"],
            respuestaCorrecta: "La Pepa",
          },
          {
            pregunta: "¿En qué año se promulgó la Constitución de 1812?",
            opciones: ["1808", "1810", "1812", "1814"],
            respuestaCorrecta: "1812",
          },
          {
            pregunta: "¿Dónde fue promulgada la Constitución de 1812?",
            opciones: ["Madrid", "Sevilla", "Cádiz", "Barcelona"],
            respuestaCorrecta: "Cádiz",
          },
          {
            pregunta:
              "¿Qué derechos fundamentales garantizaba la Constitución de 1812?",
            opciones: [
              "Derecho a la propiedad",
              "Libertad de prensa",
              "Derecho al voto universal",
              "Libertad religiosa",
            ],
            respuestaCorrecta: "Libertad de prensa",
          },
          {
            pregunta:
              "¿Qué sistema de gobierno establecía la Constitución de 1812?",
            opciones: [
              "Monarquía absoluta",
              "Monarquía constitucional",
              "República",
              "Dictadura",
            ],
            respuestaCorrecta: "Monarquía constitucional",
          },
          {
            pregunta:
              "¿Cuál fue el principal objetivo de la Constitución de 1812?",
            opciones: [
              "Fortalecer la monarquía",
              "Limitar el poder real",
              "Eliminar el clero",
              "Prohibir el comercio exterior",
            ],
            respuestaCorrecta: "Limitar el poder real",
          },
          {
            pregunta:
              "¿Qué evento provocó la elaboración de la Constitución de 1812?",
            opciones: [
              "La invasión napoleónica",
              "La muerte de Carlos IV",
              "La guerra civil",
              "La peste en Cádiz",
            ],
            respuestaCorrecta: "La invasión napoleónica",
          },
          {
            pregunta:
              "¿Qué tipo de sufragio establecía la Constitución de 1812?",
            opciones: ["Universal", "Restringido", "Masculino", "Directo"],
            respuestaCorrecta: "Restringido",
          },
          {
            pregunta: "¿Cuánto tiempo estuvo en vigor la Constitución de 1812?",
            opciones: ["Dos años", "Un año", "Seis años", "Diez años"],
            respuestaCorrecta: "Dos años",
          },
        ],
      };

      let preguntasSeleccionadas = [];
      let respuestasUsuario = [];
      let indicePreguntaActual = 0;

      function iniciarCuestionario(tema) {
        // Selecciona tres preguntas aleatorias del tema elegido
        preguntasSeleccionadas = [];
        respuestasUsuario = [];
        indicePreguntaActual = 0;
        const temaPreguntas = [...preguntas[tema]];
        while (preguntasSeleccionadas.length < 3 && temaPreguntas.length > 0) {
          const indiceAleatorio = Math.floor(
            Math.random() * temaPreguntas.length
          );
          preguntasSeleccionadas.push(
            temaPreguntas.splice(indiceAleatorio, 1)[0]
          );
        }

        // Muestra la primera pregunta
        document.getElementById("main-section").style.display = "none";
        document.getElementById("result-section").style.display = "none";
        document.getElementById("quiz-section").style.display = "block";
        mostrarPregunta();
      }

      function mostrarPregunta() {
        const pregunta = preguntasSeleccionadas[indicePreguntaActual];
        const preguntaContainer = document.getElementById("pregunta-container");
        preguntaContainer.innerHTML = `
                <h4>${pregunta.pregunta}</h4>
                ${pregunta.opciones
                  .map(
                    (opcion, i) => `
                    <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="opcion-${indicePreguntaActual}-${i}">
                        <input type="radio" id="opcion-${indicePreguntaActual}-${i}" class="mdl-radio__button" name="pregunta" value="${opcion}">
                        <span class="mdl-radio__label">${opcion}</span>
                    </label><br>
                `
                  )
                  .join("")}
            `;
      }

      function siguientePregunta() {
        const opciones = document.getElementsByName("pregunta");
        let respuestaUsuario = "";
        for (const opcion of opciones) {
          if (opcion.checked) {
            respuestaUsuario = opcion.value;
            break;
          }
        }

        if (respuestaUsuario === "") {
          alert("Por favor, selecciona una respuesta antes de continuar.");
          return;
        }

        respuestasUsuario.push({
          pregunta: preguntasSeleccionadas[indicePreguntaActual].pregunta,
          respuestaUsuario,
          respuestaCorrecta:
            preguntasSeleccionadas[indicePreguntaActual].respuestaCorrecta,
        });

        indicePreguntaActual++;

        if (indicePreguntaActual < preguntasSeleccionadas.length) {
          mostrarPregunta();
        } else {
          mostrarResultados();
        }
      }

      function mostrarResultados() {
        let correctas = 0;
        respuestasUsuario.forEach((respuesta) => {
          if (respuesta.respuestaUsuario === respuesta.respuestaCorrecta) {
            correctas++;
          }
        });

        document.getElementById("quiz-section").style.display = "none";
        document.getElementById("result-section").style.display = "block";

        const resultadosContainer = document.getElementById(
          "resultados-container"
        );
        resultadosContainer.innerHTML = `<h4>Has acertado ${correctas} de ${preguntasSeleccionadas.length} preguntas.</h4>`;
      }

      function volverAlInicio() {
        document.getElementById("result-section").style.display = "none";
        document.getElementById("main-section").style.display = "block";
      }

      function repetirCuestionario() {
        document.getElementById("result-section").style.display = "none";
        document.getElementById("quiz-section").style.display = "block";
        indicePreguntaActual = 0;
        respuestasUsuario = [];
        mostrarPregunta();
      }
    </script>
  </body>
</html>
